<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
	<title>AOP切面编程</title>
</head>
<body>
	<script type="text/javascript">
		// AOP(面向切面编程)
		let foo = function () {
		  console.log('2'); //zwj-log
		};
		Function.prototype.before = function (fn) {
		  let _self = this;
		  return function () {
		    fn.apply(this, arguments);
		    return _self.apply(this, arguments);
		  };
		};
		Function.prototype.after = function (fn) {
		  let _self = this;
		  return function () {
		    let ret = _self.apply(this, arguments);
		    fn.apply(this, arguments);
		    return ret;
		  };
		};

		foo = foo.before(function () {
		    console.log('1'); //zwj-log
		  }).after(function () {
		    console.log('3'); //zwj-log
		  });
		foo();
	</script>
</body>
</html>








